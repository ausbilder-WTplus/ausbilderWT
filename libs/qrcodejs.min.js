/*! qrcodejs v1.0 - https://github.com/davidshimjs/qrcodejs - MIT */
var QRCode;!function(o){function t(o){this.mode=n.MODE_8BIT_BYTE,this.data=o}function e(o,t){this.typeNumber=o,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function r(o,t){if(void 0==o.length)throw new Error(o.length+"/"+t);for(var e=0;e<o.length&&0==o[e];)e++;this.num=o.length-e,this.buf=new Array(this.num+1);for(var r=0;r<this.num;r++)this.buf[r]=o[r+e];this.buf[this.num]=t}function i(o,t){this.totalCount=o,this.dataCount=t}function u(){this.buffer=[],this.length=0}function f(){return"undefined"!=typeof window&&window.navigator&&(/Android/i.test(window.navigator.userAgent)||/iPhone|iPad|iPod/i.test(window.navigator.userAgent))}function s(o,t){this._el=o,this._htOption=t}var n={};t.prototype={getLength:function(){return this.data.length},write:function(o){for(var t=0;t<this.data.length;t++){var e=this.data.charCodeAt(t);e>255&&console.warn("qrcodejs: 8bit mode supports only byte values (0x00-0xFF). Got "+e),o.put(e,8)}}},e.prototype={addData:function(o){this.dataList.push(new t(o)),this.dataCache=null},isDark:function(o,t){if(o<0||this.moduleCount<=o||t<0||this.moduleCount<=t)throw new Error(o+","+t);return this.modules[o][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(o,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++){this.modules[e]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[e][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(o,t),this.typeNumber>=7&&this.setupTypeNumber(o),null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(o,t){for(var e=-1;e<=7;e++)if(!(o+e<=-1||this.moduleCount<=o+e))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(this.modules[o+e][t+r]=e>=0&&e<=6&&(0==r||6==r)||r>=0&&r<=6&&(0==e||6==e)||e>=2&&e<=4&&r>=2&&r<=4)},getBestMaskPattern:function(){for(var o=0,t=0,e=0;e<8;e++){this.makeImpl(!0,e);var r=n.getLostPoint(this);(0==e||o>r)&&(o=r,t=e)}return t}},n.PAD0=236,n.PAD1=17,n.createData=function(o,t,e){for(var i=n.getRSBlocks(o,t),u=new u,f=0;f<e.length;f++){var s=e[f];u.put(s.mode,4),u.put(s.getLength(),n.getLengthInBits(s.mode,o)),s.write(u)}for(var c=0,f=0;f<i.length;f++)c+=i[f].dataCount;if(u.getLengthInBits()>8*c)throw new Error("code length overflow. ("+u.getLengthInBits()+">"+8*c+")");for(u.getLengthInBits()+4<=8*c&&u.put(0,4);u.getLengthInBits()%8!=0;)u.putBit(!1);for(;!(u.getLengthInBits()>=8*c);){if(u.put(n.PAD0,8),u.getLengthInBits()>=8*c)break;u.put(n.PAD1,8)}return n.createBytes(u,i)},n.createBytes=function(o,t){for(var e=0,r=0,i=0,u=new Array(t.length),f=0;f<t.length;f++)e=t[f].dataCount,r=t[f].totalCount-e,i=Math.max(i,e),u[f]=[new Array(e),new Array(r)];for(var f=0;f<t.length;f++){for(var s=u[f][0],c=u[f][1],h=s.length,p=(n.getErrorCorrectPolynomial(c.length),e=t[f].dataCount),l=new Array(p),g=0;g<l.length;g++)l[g]=255&o.buffer[g+f*i];var d=new r(l,n.getBCHDigit(n.getPolynomial(c.length)).length),v=n.getPolynomial(p);v=v.mod(d),s.splice(0,s.length);for(var m=0;m<p;m++)s[m]=l[m];c.splice(0,c.length);for(m=0;m<r;m++)c[m]=v.buf[m]}for(var y=0,g=0;g<t.length;g++)y=Math.max(y,u[g][0].length+u[g][1].length);for(var b=new Array(y),m=0;m<y;m++)b[m]=[];for(var g=0;g<t.length;g++)for(m=0;m<u[g][0].length;m++)b[m].push(u[g][0][m]);for(var g=0;g<t.length;g++)for(m=0;m<u[g][1].length;m++)b[u[g][0].length+m].push(u[g][1][m]);var A=[];for(m=0;m<b.length;m++)for(var w=0;w<b[m].length;w++)A.push(b[m][w]);return A},n.getRSBlocks=function(o,t){var e=n.RS_BLOCK_TABLE[(o-1)*4+t];if(void 0==e)throw new Error("bad rs block @ typeNumber:"+o+"/errorCorrectLevel:"+t);for(var r=[],i=0;i<e.length/3;i++)for(var u=e[3*i+0],f=e[3*i+1],s=e[3*i+2],c=0;c<u;c++)r.push(new i(f,s));return r},n.getLengthInBits=function(o,t){if(1<=t&&t<10)switch(o){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:return 8;case n.MODE_KANJI:return 8;default:throw new Error("mode:"+o)}else if(t<27)switch(o){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+o)}else{if(!(t<41))throw new Error("type:"+t);switch(o){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+o)}}},n.getLostPoint=function(o){for(var t=o.getModuleCount(),e=0,r=0;r<t;r++)for(var i=0;i<t;i++){for(var u=0,f=o.isDark(r,i),s=-1;s<=1;s++)if(!(r+s<0||t<=r+s))for(var c=-1;c<=1;c++)i+c<0||t<=i+c||(0!=s||0!=c)&&(f==o.isDark(r+s,i+c)&&u++);u>5&&(e+=3+u-5)}for(r=0;r<t-1;r++)for(i=0;i<t-1;i++){var h=0; o.isDark(r,i)&&h++,o.isDark(r+1,i)&&h++,o.isDark(r,i+1)&&h++,o.isDark(r+1,i+1)&&h++,(0==h||4==h)&&(e+=3)}for(r=0;r<t;r++)for(i=0;i<t-6;i++)o.isDark(r,i)&&!o.isDark(r,i+1)&&o.isDark(r,i+2)&&o.isDark(r,i+3)&&o.isDark(r,i+4)&&!o.isDark(r,i+5)&&o.isDark(r,i+6)&&(e+=40);for(i=0;i<t;i++)for(r=0;r<t-6;r++)o.isDark(r,i)&&!o.isDark(r+1,i)&&o.isDark(r+2,i)&&o.isDark(r+3,i)&&o.isDark(r+4,i)&&!o.isDark(r+5,i)&&o.isDark(r+6,i)&&(e+=40);for(var p=0,l=0,g=0,d=0,v=0;v<t;v++)for(var m=0;m<t;m++)o.isDark(v,m)?(p++,g++):(l++,d++);return e+=10*Math.abs(Math.floor(100*(l/(p+l)))-50)/5},n.MODE_NUMBER=1,n.MODE_ALPHA_NUM=2,n.MODE_8BIT_BYTE=4,n.MODE_KANJI=8,n.QRCodeModel=e,n.Polynomial=r,n.QRRSBlock=i,n.BitBuffer=u,n.getBCHDigit=function(o){for(var t=0;0!=o;)t++,o>>>=1;return t},n.getErrorCorrectPolynomial=function(o){for(var t=new r([1],0),e=0;e<o;e++)t=t.multiply(new r([1,285],0));return t},n.Polynomial.prototype={get:function(o){return this.buf[o]},getLength:function(){return this.buf.length},multiply:function(o){for(var t=new Array(this.getLength()+o.getLength()-1),e=0;e<this.getLength();e++)for(var n=0;n<o.getLength();n++)t[e+n]^=n.gexp(n.glog(this.get(e))+n.glog(o.get(n)));return new r(t,0)},mod:function(o){if(this.getLength()-o.getLength()<0)return this;for(var t=n.glog(this.get(0))-n.glog(o.get(0)),e=new Array(this.getLength()),i=0;i<this.getLength();i++)e[i]=this.get(i);for(i=0;i<o.getLength();i++)e[i]^=n.gexp(n.glog(o.get(i))+t);return new r(e,0).mod(o)},glog:function(o){if(o<1)throw new Error("glog("+o+")");return n.LOG_TABLE[o]},gexp:function(o){for(;o<0;)o+=255;for(;o>=256;)o-=255;return n.EXP_TABLE[o]}},n.EXP_TABLE=new Array(256),n.LOG_TABLE=new Array(256);for(var c=0;c<8;c++)n.EXP_TABLE[c]=1<<c;for(c=8;c<256;c++)n.EXP_TABLE[c]=n.EXP_TABLE[c-4]^n.EXP_TABLE[c-5]^n.EXP_TABLE[c-6]^n.EXP_TABLE[c-8];for(c=0;c<255;c++)n.LOG_TABLE[n.EXP_TABLE[c]]=c;s.prototype={makeCode:function(o){this._oQRCode=null,this._oQRCode=new e(this._getTypeNumber(o,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(o),this._oQRCode.make(),this._el.innerHTML="";var t=this._oQRCode.getModuleCount(),r=Math.floor(this._htOption.width/t),i=Math.floor(this._htOption.height/t),u=document.createElement("canvas");u.width=this._htOption.width,u.height=this._htOption.height;for(var f=u.getContext("2d"),s=0;s<t;s++)for(var n=0;n<t;n++)f.fillStyle=this._oQRCode.isDark(s,n)?"#000000":"#ffffff",f.fillRect(n*r,s*i,r,i);this._el.appendChild(u)},clear:function(){this._el.innerHTML=""},_getTypeNumber:function(o,t){for(var e=1;e<40;e++){var r=i.getRSBlocks(e,t),u=new u;u.put(n.MODE_8BIT_BYTE,4),u.put(o.length,n.getLengthInBits(n.MODE_8BIT_BYTE,e)),(new t(o)).write(u);var f=0;for(var s=0;s<r.length;s++)f+=r[s].dataCount;if(u.getLengthInBits()<=8*f)return e}return 40}},QRCode=function(o,t){var e=new s("string"==typeof o?document.getElementById(o):o,t||{});return e},QRCode.CorrectLevel={L:1,M:0,Q:3,H:2},"function"==typeof define&&define.amd?define([],function(){return QRCode}):"object"==typeof module&&module.exports?module.exports=QRCode:o.QRCode=QRCode}(this);
